{"ast":null,"code":"import { extendComponent } from './extendComponent';\n/**\n * Helper to manage componentRef resolution. Internally appends logic to\n * lifetime methods to resolve componentRef to the passed in object.\n *\n * Usage: call initializeComponentRef(this) in the constructor,\n */\n\nexport function initializeComponentRef(obj) {\n  extendComponent(obj, {\n    componentDidMount: _onMount,\n    componentDidUpdate: _onUpdate,\n    componentWillUnmount: _onUnmount\n  });\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nfunction _onMount() {\n  _setComponentRef(this.props.componentRef, this);\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction _onUpdate(prevProps) {\n  if (prevProps.componentRef !== this.props.componentRef) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _setComponentRef(prevProps.componentRef, null);\n\n    _setComponentRef(this.props.componentRef, this);\n  }\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction _onUnmount() {\n  _setComponentRef(this.props.componentRef, null);\n}\n\nfunction _setComponentRef(componentRef, value) {\n  if (componentRef) {\n    if (typeof componentRef === 'object') {\n      componentRef.current = value;\n    } else if (typeof componentRef === 'function') {\n      componentRef(value);\n    }\n  }\n}","map":{"version":3,"sources":["initializeComponentRef.ts"],"names":[],"mappings":"AACA,SAAS,eAAT,QAAgC,mBAAhC;AAGA;;;;;AAKG;;AACH,OAAM,SAAU,sBAAV,CAAoE,GAApE,EAAwG;EAC5G,eAAe,CAAC,GAAD,EAAM;IACnB,iBAAiB,EAAE,QADA;IAEnB,kBAAkB,EAAE,SAFD;IAGnB,oBAAoB,EAAE;EAHH,CAAN,CAAf;AAKD,C,CAED;;AACA,SAAS,QAAT,GAAiB;EACf,gBAAgB,CAAC,KAAK,KAAL,CAAW,YAAZ,EAA0B,IAA1B,CAAhB;AACD,C,CAED;;;AACA,SAAS,SAAT,CAA8B,SAA9B,EAAmD;EACjD,IAAI,SAAS,CAAC,YAAV,KAA2B,KAAK,KAAL,CAAW,YAA1C,EAAwD;IACtD;IACA,gBAAgB,CAAE,SAAiB,CAAC,YAApB,EAAkC,IAAlC,CAAhB;;IACA,gBAAgB,CAAC,KAAK,KAAL,CAAW,YAAZ,EAA0B,IAA1B,CAAhB;EACD;AACF,C,CAED;;;AACA,SAAS,UAAT,GAAmB;EACjB,gBAAgB,CAAC,KAAK,KAAL,CAAW,YAAZ,EAA0B,IAA1B,CAAhB;AACD;;AAED,SAAS,gBAAT,CAAsC,YAAtC,EAAiF,KAAjF,EAAyG;EACvG,IAAI,YAAJ,EAAkB;IAChB,IAAI,OAAO,YAAP,KAAwB,QAA5B,EAAsC;MACnC,YAA+C,CAAC,OAAhD,GAA0D,KAA1D;IACF,CAFD,MAEO,IAAI,OAAO,YAAP,KAAwB,UAA5B,EAAwC;MAC5C,YAAyB,CAAC,KAAD,CAAzB;IACF;EACF;AACF","sourcesContent":["import * as React from 'react';\nimport { extendComponent } from './extendComponent';\nimport type { IBaseProps } from './BaseComponent.types';\n\n/**\n * Helper to manage componentRef resolution. Internally appends logic to\n * lifetime methods to resolve componentRef to the passed in object.\n *\n * Usage: call initializeComponentRef(this) in the constructor,\n */\nexport function initializeComponentRef<TProps extends IBaseProps, TState>(obj: React.Component<TProps, TState>): void {\n  extendComponent(obj, {\n    componentDidMount: _onMount,\n    componentDidUpdate: _onUpdate,\n    componentWillUnmount: _onUnmount,\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _onMount(this: any): void {\n  _setComponentRef(this.props.componentRef, this);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _onUpdate(this: any, prevProps: IBaseProps): void {\n  if (prevProps.componentRef !== this.props.componentRef) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _setComponentRef((prevProps as any).componentRef, null);\n    _setComponentRef(this.props.componentRef, this);\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _onUnmount(this: any): void {\n  _setComponentRef(this.props.componentRef, null);\n}\n\nfunction _setComponentRef<TInterface>(componentRef: React.RefObject<TInterface>, value: TInterface | null): void {\n  if (componentRef) {\n    if (typeof componentRef === 'object') {\n      (componentRef as { current: TInterface | null }).current = value;\n    } else if (typeof componentRef === 'function') {\n      (componentRef as Function)(value);\n    }\n  }\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}