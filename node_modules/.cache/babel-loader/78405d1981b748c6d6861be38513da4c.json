{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport { classNamesFunction, useFocusRects } from '@fluentui/utilities';\nvar getClassNames = classNamesFunction();\n/**\n * The useLink hook processes the Link component props and returns\n * state, slots and slotProps for consumption by the component.\n */\n\nexport var useLink = function (props, forwardedRef) {\n  var as = props.as,\n      className = props.className,\n      disabled = props.disabled,\n      href = props.href,\n      onClick = props.onClick,\n      styles = props.styles,\n      theme = props.theme,\n      underline = props.underline;\n  var rootRef = React.useRef(null);\n  var mergedRootRefs = useMergedRefs(rootRef, forwardedRef);\n  useComponentRef(props, rootRef);\n  useFocusRects(rootRef);\n  var classNames = getClassNames(styles, {\n    className: className,\n    isButton: !href,\n    isDisabled: disabled,\n    isUnderlined: underline,\n    theme: theme\n  });\n\n  var _onClick = function (ev) {\n    if (disabled) {\n      ev.preventDefault();\n    } else if (onClick) {\n      onClick(ev);\n    }\n  };\n\n  var rootType = as ? as : href ? 'a' : 'button';\n  var state = {};\n  var slots = {\n    root: rootType\n  };\n  var slotProps = {\n    root: __assign(__assign({}, adjustPropsForRootType(rootType, props)), {\n      'aria-disabled': disabled,\n      className: classNames.root,\n      onClick: _onClick,\n      ref: mergedRootRefs\n    })\n  };\n  return {\n    state: state,\n    slots: slots,\n    slotProps: slotProps\n  };\n};\n\nvar useComponentRef = function (props, link) {\n  React.useImperativeHandle(props.componentRef, function () {\n    return {\n      focus: function () {\n        if (link.current) {\n          link.current.focus();\n        }\n      }\n    };\n  }, [link]);\n};\n\nvar adjustPropsForRootType = function (RootType, props) {\n  // Deconstruct the props so we remove props like `as`, `theme` and `styles`\n  // as those will always be removed. We also take some props that are optional\n  // based on the RootType.\n  var as = props.as,\n      disabled = props.disabled,\n      target = props.target,\n      href = props.href,\n      theme = props.theme,\n      getStyles = props.getStyles,\n      styles = props.styles,\n      componentRef = props.componentRef,\n      underline = props.underline,\n      restProps = __rest(props, [\"as\", \"disabled\", \"target\", \"href\", \"theme\", \"getStyles\", \"styles\", \"componentRef\", \"underline\"]); // RootType will be a string if we're dealing with an html component\n\n\n  if (typeof RootType === 'string') {\n    // Remove the disabled prop for anchor elements\n    if (RootType === 'a') {\n      return __assign({\n        target: target,\n        href: disabled ? undefined : href\n      }, restProps);\n    } // Add the type='button' prop for button elements\n\n\n    if (RootType === 'button') {\n      return __assign({\n        type: 'button',\n        disabled: disabled\n      }, restProps);\n    } // Remove the target and href props for all other non anchor elements\n\n\n    return __assign(__assign({}, restProps), {\n      disabled: disabled\n    });\n  } // Retain all props except 'as' for ReactComponents\n\n\n  return __assign({\n    target: target,\n    href: href,\n    disabled: disabled\n  }, restProps);\n};","map":{"version":3,"sources":["components/Link/useLink.ts"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport { classNamesFunction, useFocusRects } from '@fluentui/utilities';\nimport type { ILink, ILinkProps, ILinkStyleProps, ILinkStyles } from './Link.types';\n\nconst getClassNames = classNamesFunction<ILinkStyleProps, ILinkStyles>();\n\n/**\n * The useLink hook processes the Link component props and returns\n * state, slots and slotProps for consumption by the component.\n */\nexport const useLink = (props: ILinkProps, forwardedRef: React.Ref<HTMLElement>): any => {\n  const { as, className, disabled, href, onClick, styles, theme, underline } = props;\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  const mergedRootRefs: React.Ref<HTMLElement> = useMergedRefs(rootRef, forwardedRef);\n\n  useComponentRef(props, rootRef);\n  useFocusRects(rootRef);\n\n  const classNames = getClassNames(styles!, {\n    className,\n    isButton: !href,\n    isDisabled: disabled,\n    isUnderlined: underline,\n    theme: theme!,\n  });\n\n  const _onClick = (ev: React.MouseEvent<HTMLAnchorElement | HTMLButtonElement>) => {\n    if (disabled) {\n      ev.preventDefault();\n    } else if (onClick) {\n      onClick(ev);\n    }\n  };\n\n  const rootType = as ? as : href ? 'a' : 'button';\n\n  const state = {};\n  const slots = { root: rootType };\n  const slotProps = {\n    root: {\n      ...adjustPropsForRootType(rootType, props),\n      'aria-disabled': disabled,\n      className: classNames.root,\n      onClick: _onClick,\n      ref: mergedRootRefs,\n    },\n  };\n\n  return { state, slots, slotProps };\n};\n\nconst useComponentRef = (props: ILinkProps, link: React.RefObject<ILink>) => {\n  React.useImperativeHandle(\n    props.componentRef,\n    () => ({\n      focus() {\n        if (link.current) {\n          link.current.focus();\n        }\n      },\n    }),\n    [link],\n  );\n};\n\nconst adjustPropsForRootType = (\n  RootType: string | React.ComponentClass | React.FunctionComponent,\n  props: ILinkProps & { getStyles?: any },\n): Partial<ILinkProps> => {\n  // Deconstruct the props so we remove props like `as`, `theme` and `styles`\n  // as those will always be removed. We also take some props that are optional\n  // based on the RootType.\n  const { as, disabled, target, href, theme, getStyles, styles, componentRef, underline, ...restProps } = props;\n\n  // RootType will be a string if we're dealing with an html component\n  if (typeof RootType === 'string') {\n    // Remove the disabled prop for anchor elements\n    if (RootType === 'a') {\n      return {\n        target,\n        href: disabled ? undefined : href,\n        ...restProps,\n      };\n    }\n\n    // Add the type='button' prop for button elements\n    if (RootType === 'button') {\n      return {\n        type: 'button',\n        disabled,\n        ...restProps,\n      };\n    }\n\n    // Remove the target and href props for all other non anchor elements\n    return { ...restProps, disabled };\n  }\n\n  // Retain all props except 'as' for ReactComponents\n  return { target, href, disabled, ...restProps };\n};\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}