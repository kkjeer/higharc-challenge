{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport { TeachingBubbleContent } from './TeachingBubbleContent';\nimport { Callout } from '../../Callout';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nvar COMPONENT_NAME = 'TeachingBubble';\nvar defaultCalloutProps = {\n  beakWidth: 16,\n  gapSpace: 0,\n  setInitialFocus: true,\n  doNotLayer: false,\n  directionalHint: DirectionalHint.rightCenter\n};\nvar getClassNames = classNamesFunction();\n\nvar useComponentRef = function (componentRef, rootElementRef) {\n  React.useImperativeHandle(componentRef, function () {\n    return {\n      focus: function () {\n        var _a;\n\n        return (_a = rootElementRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    };\n  }, [rootElementRef]);\n};\n\nexport var TeachingBubbleBase = React.forwardRef(function (props, forwardedRef) {\n  var rootElementRef = React.useRef(null);\n  var mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n  var setCalloutProps = props.calloutProps,\n      // eslint-disable-next-line deprecation/deprecation\n  targetElement = props.targetElement,\n      onDismiss = props.onDismiss,\n      // eslint-disable-next-line deprecation/deprecation\n  _a = props.hasCloseButton,\n      // eslint-disable-next-line deprecation/deprecation\n  hasCloseButton = _a === void 0 ? props.hasCloseIcon : _a,\n      isWide = props.isWide,\n      styles = props.styles,\n      theme = props.theme,\n      target = props.target;\n  var calloutProps = React.useMemo(function () {\n    return __assign(__assign(__assign({}, defaultCalloutProps), setCalloutProps), {\n      theme: theme\n    });\n  }, [setCalloutProps, theme]);\n  var stylesProps = {\n    theme: theme,\n    isWide: isWide,\n    calloutProps: calloutProps,\n    hasCloseButton: hasCloseButton\n  };\n  var classNames = getClassNames(styles, stylesProps);\n  var calloutStyles = classNames.subComponentStyles ? classNames.subComponentStyles.callout : undefined;\n  useComponentRef(props.componentRef, rootElementRef);\n  return React.createElement(Callout, __assign({\n    target: target || targetElement,\n    onDismiss: onDismiss\n  }, calloutProps, {\n    className: classNames.root,\n    styles: calloutStyles,\n    hideOverflow: true\n  }), React.createElement(\"div\", {\n    ref: mergedRootRef\n  }, React.createElement(TeachingBubbleContent, __assign({}, props))));\n});\nTeachingBubbleBase.displayName = COMPONENT_NAME;","map":{"version":3,"sources":["components/TeachingBubble/TeachingBubble.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport { TeachingBubbleContent } from './TeachingBubbleContent';\nimport { Callout } from '../../Callout';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport type {\n  ITeachingBubble,\n  ITeachingBubbleProps,\n  ITeachingBubbleStyleProps,\n  ITeachingBubbleStyles,\n  ITeachingBubbleSubComponentStyles,\n} from './TeachingBubble.types';\nimport type { ICalloutProps } from '../../Callout';\n\nconst COMPONENT_NAME = 'TeachingBubble';\nconst defaultCalloutProps: ICalloutProps = {\n  beakWidth: 16,\n  gapSpace: 0,\n  setInitialFocus: true,\n  doNotLayer: false,\n  directionalHint: DirectionalHint.rightCenter,\n};\n\nconst getClassNames = classNamesFunction<ITeachingBubbleStyleProps, ITeachingBubbleStyles>();\nconst useComponentRef = (\n  componentRef: React.Ref<ITeachingBubble> | undefined,\n  rootElementRef: React.RefObject<HTMLDivElement>,\n) => {\n  React.useImperativeHandle(\n    componentRef,\n    () => ({\n      focus: () => rootElementRef.current?.focus(),\n    }),\n    [rootElementRef],\n  );\n};\n\nexport const TeachingBubbleBase: React.FunctionComponent<ITeachingBubbleProps> = React.forwardRef<\n  HTMLDivElement,\n  ITeachingBubbleProps\n>((props, forwardedRef) => {\n  const rootElementRef = React.useRef<HTMLDivElement>(null);\n  const mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n  const {\n    calloutProps: setCalloutProps,\n    // eslint-disable-next-line deprecation/deprecation\n    targetElement,\n    onDismiss,\n    // eslint-disable-next-line deprecation/deprecation\n    hasCloseButton = props.hasCloseIcon,\n    isWide,\n    styles,\n    theme,\n    target,\n  } = props;\n\n  const calloutProps: ICalloutProps & Required<Pick<ICalloutProps, 'theme'>> = React.useMemo(\n    () => ({ ...defaultCalloutProps, ...setCalloutProps, theme: theme! }),\n    [setCalloutProps, theme],\n  );\n\n  const stylesProps: ITeachingBubbleStyleProps = {\n    theme: theme!,\n    isWide,\n    calloutProps,\n    hasCloseButton,\n  };\n\n  const classNames = getClassNames(styles, stylesProps);\n  const calloutStyles = classNames.subComponentStyles\n    ? (classNames.subComponentStyles as ITeachingBubbleSubComponentStyles).callout\n    : undefined;\n\n  useComponentRef(props.componentRef, rootElementRef);\n\n  return (\n    <Callout\n      target={target || targetElement}\n      onDismiss={onDismiss}\n      {...calloutProps}\n      className={classNames.root}\n      styles={calloutStyles}\n      hideOverflow\n    >\n      <div ref={mergedRootRef}>\n        <TeachingBubbleContent {...props} />\n      </div>\n    </Callout>\n  );\n});\nTeachingBubbleBase.displayName = COMPONENT_NAME;\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}