{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { mergeStyleSets } from '../../Styling';\nimport { classNamesFunction, memoizeFunction } from '../../Utilities';\nimport { getColorFromString } from '../../Color';\nimport { ButtonGridCell } from '../../utilities/ButtonGrid/ButtonGridCell';\nimport { getStyles as getActionButtonStyles } from '../Button/ActionButton/ActionButton.styles';\nvar getClassNames = classNamesFunction();\n/** Validate if the cell's color is white or not to apply whiteCell style */\n\nvar isWhiteCell = function (inputColor) {\n  var currentColor = getColorFromString(inputColor);\n  return (currentColor === null || currentColor === void 0 ? void 0 : currentColor.hex) === 'ffffff';\n};\n\nvar getColorPickerGridCellButtonClassNames = memoizeFunction(function (theme, className, variantClassName, iconClassName, menuIconClassName, disabled, checked, expanded, isSplit) {\n  var styles = getActionButtonStyles(theme);\n  return mergeStyleSets({\n    root: ['ms-Button', styles.root, variantClassName, className, checked && ['is-checked', styles.rootChecked], disabled && ['is-disabled', styles.rootDisabled], !disabled && !checked && {\n      selectors: {\n        ':hover': styles.rootHovered,\n        ':focus': styles.rootFocused,\n        ':active': styles.rootPressed\n      }\n    }, disabled && checked && [styles.rootCheckedDisabled], !disabled && checked && {\n      selectors: {\n        ':hover': styles.rootCheckedHovered,\n        ':active': styles.rootCheckedPressed\n      }\n    }],\n    flexContainer: ['ms-Button-flexContainer', styles.flexContainer]\n  });\n});\nexport var ColorPickerGridCellBase = function (props) {\n  var item = props.item,\n      // eslint-disable-next-line deprecation/deprecation\n  _a = props.idPrefix,\n      // eslint-disable-next-line deprecation/deprecation\n  idPrefix = _a === void 0 ? props.id : _a,\n      isRadio = props.isRadio,\n      _b = props.selected,\n      selected = _b === void 0 ? false : _b,\n      _c = props.disabled,\n      disabled = _c === void 0 ? false : _c,\n      styles = props.styles,\n      _d = props.circle,\n      circle = _d === void 0 ? true : _d,\n      color = props.color,\n      onClick = props.onClick,\n      onHover = props.onHover,\n      onFocus = props.onFocus,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onWheel = props.onWheel,\n      onKeyDown = props.onKeyDown,\n      height = props.height,\n      width = props.width,\n      borderWidth = props.borderWidth;\n  var classNames = getClassNames(styles, {\n    theme: props.theme,\n    disabled: disabled,\n    selected: selected,\n    circle: circle,\n    isWhite: isWhiteCell(color),\n    height: height,\n    width: width,\n    borderWidth: borderWidth\n  }); // Render the core of a color cell\n\n  var onRenderColorOption = function (colorOption) {\n    var _a;\n\n    var svgClassName = classNames.svg; // Build an SVG for the cell with the given shape and color properties\n    // Include role=\"img\" and aria-label here for better virtual cursor accessibility,\n    // and for a VoiceOver bug where it skips grid cells that lack inner content\n\n    return React.createElement(\"svg\", {\n      className: svgClassName,\n      role: \"img\",\n      \"aria-label\": colorOption.label,\n      viewBox: \"0 0 20 20\",\n      fill: (_a = getColorFromString(colorOption.color)) === null || _a === void 0 ? void 0 : _a.str\n    }, circle ? React.createElement(\"circle\", {\n      cx: \"50%\",\n      cy: \"50%\",\n      r: \"50%\"\n    }) : React.createElement(\"rect\", {\n      width: \"100%\",\n      height: \"100%\"\n    }));\n  };\n\n  var cellSemantics = isRadio ? {\n    role: 'radio',\n    'aria-checked': selected,\n    selected: undefined\n  } : {\n    role: 'gridcell',\n    selected: selected\n  };\n  return React.createElement(ButtonGridCell, __assign({\n    item: item,\n    id: idPrefix + \"-\" + item.id + \"-\" + item.index,\n    key: item.id,\n    disabled: disabled\n  }, cellSemantics, {\n    // eslint-disable-next-line react/jsx-no-bind\n    onRenderItem: onRenderColorOption,\n    onClick: onClick,\n    onHover: onHover,\n    onFocus: onFocus,\n    label: item.label,\n    className: classNames.colorCell,\n    getClassNames: getColorPickerGridCellButtonClassNames,\n    index: item.index,\n    onMouseEnter: onMouseEnter,\n    onMouseMove: onMouseMove,\n    onMouseLeave: onMouseLeave,\n    onWheel: onWheel,\n    onKeyDown: onKeyDown\n  }));\n};","map":{"version":3,"sources":["components/SwatchColorPicker/ColorPickerGridCell.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { mergeStyleSets } from '../../Styling';\nimport { classNamesFunction, memoizeFunction } from '../../Utilities';\nimport { getColorFromString } from '../../Color';\nimport { ButtonGridCell } from '../../utilities/ButtonGrid/ButtonGridCell';\nimport { getStyles as getActionButtonStyles } from '../Button/ActionButton/ActionButton.styles';\nimport type { ITheme, IProcessedStyleSet } from '../../Styling';\nimport type { IButtonClassNames } from '../Button/BaseButton.classNames';\nimport type {\n  IColorCellProps,\n  IColorPickerGridCellProps,\n  IColorPickerGridCellStyleProps,\n  IColorPickerGridCellStyles,\n} from './ColorPickerGridCell.types';\n\nconst getClassNames = classNamesFunction<IColorPickerGridCellStyleProps, IColorPickerGridCellStyles>();\n\n/** Validate if the cell's color is white or not to apply whiteCell style */\nconst isWhiteCell = (inputColor: string): boolean => {\n  const currentColor = getColorFromString(inputColor!);\n  return currentColor?.hex === 'ffffff';\n};\n\nconst getColorPickerGridCellButtonClassNames = memoizeFunction(\n  (\n    theme: ITheme,\n    className: string,\n    variantClassName: string,\n    iconClassName: string | undefined,\n    menuIconClassName: string | undefined,\n    disabled: boolean,\n    checked: boolean,\n    expanded: boolean,\n    isSplit: boolean | undefined,\n  ): IButtonClassNames => {\n    const styles = getActionButtonStyles(theme);\n    return mergeStyleSets({\n      root: [\n        'ms-Button',\n        styles.root,\n        variantClassName,\n        className,\n        checked && ['is-checked', styles.rootChecked],\n        disabled && ['is-disabled', styles.rootDisabled],\n        !disabled &&\n          !checked && {\n            selectors: {\n              ':hover': styles.rootHovered,\n              ':focus': styles.rootFocused,\n              ':active': styles.rootPressed,\n            },\n          },\n        disabled && checked && [styles.rootCheckedDisabled],\n        !disabled &&\n          checked && {\n            selectors: {\n              ':hover': styles.rootCheckedHovered,\n              ':active': styles.rootCheckedPressed,\n            },\n          },\n      ],\n      flexContainer: ['ms-Button-flexContainer', styles.flexContainer],\n    });\n  },\n);\n\nexport const ColorPickerGridCellBase: React.FunctionComponent<IColorPickerGridCellProps> = props => {\n  const {\n    item,\n    // eslint-disable-next-line deprecation/deprecation\n    idPrefix = props.id,\n    isRadio,\n    selected = false,\n    disabled = false,\n    styles,\n    circle = true,\n    color,\n    onClick,\n    onHover,\n    onFocus,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onWheel,\n    onKeyDown,\n    height,\n    width,\n    borderWidth,\n  } = props;\n\n  const classNames: IProcessedStyleSet<IColorPickerGridCellStyles> = getClassNames(styles!, {\n    theme: props.theme!,\n    disabled,\n    selected,\n    circle,\n    isWhite: isWhiteCell(color!),\n    height,\n    width,\n    borderWidth,\n  });\n\n  // Render the core of a color cell\n  const onRenderColorOption = (colorOption: IColorCellProps): JSX.Element => {\n    const svgClassName = classNames.svg;\n\n    // Build an SVG for the cell with the given shape and color properties\n    // Include role=\"img\" and aria-label here for better virtual cursor accessibility,\n    // and for a VoiceOver bug where it skips grid cells that lack inner content\n    return (\n      <svg\n        className={svgClassName}\n        role=\"img\"\n        aria-label={colorOption.label}\n        viewBox=\"0 0 20 20\"\n        fill={getColorFromString(colorOption.color as string)?.str}\n      >\n        {circle ? <circle cx=\"50%\" cy=\"50%\" r=\"50%\" /> : <rect width=\"100%\" height=\"100%\" />}\n      </svg>\n    );\n  };\n\n  const cellSemantics = isRadio\n    ? {\n        role: 'radio',\n        'aria-checked': selected,\n        selected: undefined,\n      }\n    : {\n        role: 'gridcell',\n        selected: selected,\n      };\n\n  return (\n    <ButtonGridCell\n      item={item}\n      id={`${idPrefix}-${item.id}-${item.index}`}\n      key={item.id}\n      disabled={disabled}\n      {...cellSemantics}\n      // eslint-disable-next-line react/jsx-no-bind\n      onRenderItem={onRenderColorOption}\n      onClick={onClick}\n      onHover={onHover}\n      onFocus={onFocus}\n      label={item.label}\n      className={classNames.colorCell}\n      getClassNames={getColorPickerGridCellButtonClassNames}\n      index={item.index}\n      onMouseEnter={onMouseEnter}\n      onMouseMove={onMouseMove}\n      onMouseLeave={onMouseLeave}\n      onWheel={onWheel}\n      onKeyDown={onKeyDown}\n    />\n  );\n};\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}