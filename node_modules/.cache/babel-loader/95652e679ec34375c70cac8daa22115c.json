{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, KeyCodes } from '../../Utilities';\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\nimport { Stack } from '../../Stack';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { Image } from '../../Image';\nimport { useOnEvent, useMergedRefs, useId } from '@fluentui/react-hooks';\nimport { useDocument } from '../../WindowProvider';\nvar getClassNames = classNamesFunction();\n\nvar useComponentRef = function (componentRef, rootElementRef) {\n  React.useImperativeHandle(componentRef, function () {\n    return {\n      focus: function () {\n        var _a;\n\n        return (_a = rootElementRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    };\n  }, [rootElementRef]);\n};\n\nexport var TeachingBubbleContentBase = React.forwardRef(function (props, forwardedRef) {\n  var _a, _b;\n\n  var rootElementRef = React.useRef(null);\n  var documentRef = useDocument();\n  var mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n  var ariaDescribedById = useId('teaching-bubble-content-');\n  var ariaLabelledById = useId('teaching-bubble-title-');\n  var ariaDescribedBy = (_a = props.ariaDescribedBy) !== null && _a !== void 0 ? _a : ariaDescribedById;\n  var ariaLabelledBy = (_b = props.ariaLabelledBy) !== null && _b !== void 0 ? _b : ariaLabelledById;\n  var illustrationImage = props.illustrationImage,\n      primaryButtonProps = props.primaryButtonProps,\n      secondaryButtonProps = props.secondaryButtonProps,\n      headline = props.headline,\n      hasCondensedHeadline = props.hasCondensedHeadline,\n      // eslint-disable-next-line deprecation/deprecation\n  _c = props.hasCloseButton,\n      // eslint-disable-next-line deprecation/deprecation\n  hasCloseButton = _c === void 0 ? props.hasCloseIcon : _c,\n      onDismiss = props.onDismiss,\n      closeButtonAriaLabel = props.closeButtonAriaLabel,\n      hasSmallHeadline = props.hasSmallHeadline,\n      isWide = props.isWide,\n      styles = props.styles,\n      theme = props.theme,\n      customFooterContent = props.footerContent,\n      focusTrapZoneProps = props.focusTrapZoneProps;\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    hasCondensedHeadline: hasCondensedHeadline,\n    hasSmallHeadline: hasSmallHeadline,\n    hasCloseButton: hasCloseButton,\n    hasHeadline: !!headline,\n    isWide: isWide,\n    primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\n    secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined\n  });\n  var onKeyDown = React.useCallback(function (ev) {\n    if (onDismiss) {\n      // eslint-disable-next-line deprecation/deprecation\n      if (ev.which === KeyCodes.escape) {\n        onDismiss(ev);\n      }\n    }\n  }, [onDismiss]);\n  useOnEvent(documentRef, 'keydown', onKeyDown);\n  var imageContent;\n  var headerContent;\n  var bodyContent;\n  var footerContent;\n  var closeButton;\n\n  if (illustrationImage && illustrationImage.src) {\n    imageContent = React.createElement(\"div\", {\n      className: classNames.imageContent\n    }, React.createElement(Image, __assign({}, illustrationImage)));\n  }\n\n  if (headline) {\n    var HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\n    headerContent = React.createElement(\"div\", {\n      className: classNames.header\n    }, React.createElement(HeaderWrapperAs, {\n      role: \"heading\",\n      \"aria-level\": 3,\n      className: classNames.headline,\n      id: ariaLabelledBy\n    }, headline));\n  }\n\n  if (props.children) {\n    var BodyContentWrapperAs = typeof props.children === 'string' ? 'p' : 'div';\n    bodyContent = React.createElement(\"div\", {\n      className: classNames.body\n    }, React.createElement(BodyContentWrapperAs, {\n      className: classNames.subText,\n      id: ariaDescribedBy\n    }, props.children));\n  }\n\n  if (primaryButtonProps || secondaryButtonProps || customFooterContent) {\n    footerContent = React.createElement(Stack, {\n      className: classNames.footer,\n      horizontal: true,\n      horizontalAlign: customFooterContent ? 'space-between' : 'end'\n    }, React.createElement(Stack.Item, {\n      align: \"center\"\n    }, React.createElement(\"span\", null, customFooterContent)), React.createElement(Stack.Item, null, primaryButtonProps && React.createElement(PrimaryButton, __assign({}, primaryButtonProps, {\n      className: classNames.primaryButton\n    })), secondaryButtonProps && React.createElement(DefaultButton, __assign({}, secondaryButtonProps, {\n      className: classNames.secondaryButton\n    }))));\n  }\n\n  if (hasCloseButton) {\n    closeButton = React.createElement(IconButton, {\n      className: classNames.closeButton,\n      iconProps: {\n        iconName: 'Cancel'\n      },\n      ariaLabel: closeButtonAriaLabel,\n      onClick: onDismiss\n    });\n  }\n\n  useComponentRef(props.componentRef, rootElementRef);\n  return React.createElement(\"div\", {\n    className: classNames.content,\n    ref: mergedRootRef,\n    role: 'dialog',\n    tabIndex: -1,\n    \"aria-labelledby\": ariaLabelledBy,\n    \"aria-describedby\": ariaDescribedBy,\n    \"data-is-focusable\": true\n  }, imageContent, React.createElement(FocusTrapZone, __assign({\n    isClickableOutsideFocusTrap: true\n  }, focusTrapZoneProps), React.createElement(\"div\", {\n    className: classNames.bodyContent\n  }, headerContent, bodyContent, footerContent, closeButton)));\n});","map":{"version":3,"sources":["components/TeachingBubble/TeachingBubbleContent.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction, KeyCodes } from '../../Utilities';\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\nimport { Stack } from '../../Stack';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { Image } from '../../Image';\nimport { useOnEvent, useMergedRefs, useId } from '@fluentui/react-hooks';\nimport { useDocument } from '../../WindowProvider';\nimport type {\n  ITeachingBubbleProps,\n  ITeachingBubbleStyleProps,\n  ITeachingBubbleStyles,\n  ITeachingBubble,\n} from './TeachingBubble.types';\n\nconst getClassNames = classNamesFunction<ITeachingBubbleStyleProps, ITeachingBubbleStyles>();\n\nconst useComponentRef = (\n  componentRef: React.Ref<ITeachingBubble> | undefined,\n  rootElementRef: React.RefObject<HTMLDivElement>,\n) => {\n  React.useImperativeHandle(\n    componentRef,\n    () => ({\n      focus: () => rootElementRef.current?.focus(),\n    }),\n    [rootElementRef],\n  );\n};\n\nexport const TeachingBubbleContentBase: React.FunctionComponent<ITeachingBubbleProps> = React.forwardRef<\n  HTMLDivElement,\n  ITeachingBubbleProps\n>((props, forwardedRef) => {\n  const rootElementRef = React.useRef<HTMLDivElement>(null);\n  const documentRef = useDocument();\n  const mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n\n  const ariaDescribedById = useId('teaching-bubble-content-');\n  const ariaLabelledById = useId('teaching-bubble-title-');\n\n  const ariaDescribedBy = props.ariaDescribedBy ?? ariaDescribedById;\n  const ariaLabelledBy = props.ariaLabelledBy ?? ariaLabelledById;\n\n  const {\n    illustrationImage,\n    primaryButtonProps,\n    secondaryButtonProps,\n    headline,\n    hasCondensedHeadline,\n    // eslint-disable-next-line deprecation/deprecation\n    hasCloseButton = props.hasCloseIcon,\n    onDismiss,\n    closeButtonAriaLabel,\n    hasSmallHeadline,\n    isWide,\n    styles,\n    theme,\n    footerContent: customFooterContent,\n    focusTrapZoneProps,\n  } = props;\n\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    hasCondensedHeadline,\n    hasSmallHeadline,\n    hasCloseButton,\n    hasHeadline: !!headline,\n    isWide,\n    primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\n    secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined,\n  });\n\n  const onKeyDown = React.useCallback(\n    (ev: React.KeyboardEvent<HTMLElement> | KeyboardEvent): void => {\n      if (onDismiss) {\n        // eslint-disable-next-line deprecation/deprecation\n        if (ev.which === KeyCodes.escape) {\n          onDismiss(ev);\n        }\n      }\n    },\n    [onDismiss],\n  );\n\n  useOnEvent(documentRef, 'keydown', onKeyDown as (ev: Event) => void);\n\n  let imageContent: JSX.Element | undefined;\n  let headerContent: JSX.Element | undefined;\n  let bodyContent: JSX.Element | undefined;\n  let footerContent: JSX.Element | undefined;\n  let closeButton: JSX.Element | undefined;\n\n  if (illustrationImage && illustrationImage.src) {\n    imageContent = (\n      <div className={classNames.imageContent}>\n        <Image {...(illustrationImage as any)} />\n      </div>\n    );\n  }\n\n  if (headline) {\n    const HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\n\n    headerContent = (\n      <div className={classNames.header}>\n        <HeaderWrapperAs role=\"heading\" aria-level={3} className={classNames.headline} id={ariaLabelledBy}>\n          {headline}\n        </HeaderWrapperAs>\n      </div>\n    );\n  }\n\n  if (props.children) {\n    const BodyContentWrapperAs = typeof props.children === 'string' ? 'p' : 'div';\n\n    bodyContent = (\n      <div className={classNames.body}>\n        <BodyContentWrapperAs className={classNames.subText} id={ariaDescribedBy}>\n          {props.children}\n        </BodyContentWrapperAs>\n      </div>\n    );\n  }\n\n  if (primaryButtonProps || secondaryButtonProps || customFooterContent) {\n    footerContent = (\n      <Stack className={classNames.footer} horizontal horizontalAlign={customFooterContent ? 'space-between' : 'end'}>\n        <Stack.Item align=\"center\">{<span>{customFooterContent}</span>}</Stack.Item>\n        <Stack.Item>\n          {primaryButtonProps && <PrimaryButton {...primaryButtonProps} className={classNames.primaryButton} />}\n          {secondaryButtonProps && <DefaultButton {...secondaryButtonProps} className={classNames.secondaryButton} />}\n        </Stack.Item>\n      </Stack>\n    );\n  }\n\n  if (hasCloseButton) {\n    closeButton = (\n      <IconButton\n        className={classNames.closeButton}\n        iconProps={{ iconName: 'Cancel' }}\n        ariaLabel={closeButtonAriaLabel}\n        onClick={onDismiss}\n      />\n    );\n  }\n\n  useComponentRef(props.componentRef, rootElementRef);\n\n  return (\n    <div\n      className={classNames.content}\n      ref={mergedRootRef}\n      role={'dialog'}\n      tabIndex={-1}\n      aria-labelledby={ariaLabelledBy}\n      aria-describedby={ariaDescribedBy}\n      data-is-focusable\n    >\n      {imageContent}\n      <FocusTrapZone isClickableOutsideFocusTrap {...focusTrapZoneProps}>\n        <div className={classNames.bodyContent}>\n          {headerContent}\n          {bodyContent}\n          {footerContent}\n          {closeButton}\n        </div>\n      </FocusTrapZone>\n    </div>\n  );\n});\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}